BEGIN TEXT VERSION

ANT+ HEART-RATE PIPELINE GUIDE
HRP_shreayaa — Clean JSON → CSV Workflow

ENVIRONMENT SETUP (do this whenever you open a new terminal)

Open PowerShell, then run:

cd "C:\Users\Owner\Documents\HRP_shreayaa"
..venv\Scripts\Activate.ps1
cd code

You should now see:

(.venv) PS C:\Users\Owner\Documents\HRP_shreayaa\code>

COLLECT ANT+ HEART-RATE DATA (save as JSONL)

Record one ANT+ stream into a JSON-lines file:

python ant_hr_to_json.py > ..\outputs\hr_logs\hr_stream_001.jsonl

Stop recording whenever needed using:

Ctrl + C

This produces:

outputs/hr_logs/hr_stream_001.jsonl

You may create more anytime, such as:

hr_stream_002.jsonl
hr_stream_003.jsonl
etc.

CONVERT JSONL TO CSV (clean structured log)

Convert a JSON stream recording into a CSV file:

type ..\outputs\hr_logs\hr_stream_001.jsonl | python ant_to_csv.py

The converter:

• chooses the next available CSV index (hr_log_001.csv, hr_log_002.csv, etc.)
• writes the CSV to: outputs/hr_logs/
• always includes the header: timestamp, device_id, bpm, rr_ms

Examples of output files:

hr_log_001.csv
hr_log_002.csv

MINIMAL MANUAL WORKFLOW SUMMARY

Activate environment:

cd "C:\Users\Owner\Documents\HRP_shreayaa"
..venv\Scripts\Activate.ps1
cd code

Record heart-rate data:

python ant_hr_to_json.py > ..\outputs\hr_logs\hr_stream_XXX.jsonl

Convert it:

type ..\outputs\hr_logs\hr_stream_XXX.jsonl | python ant_to_csv.py

AUTOMATION OPTIONS (POWERSHELL VS PYTHON)

Option A: PowerShell Wrapper Script
Simplest for a user to run. Automates all commands.

Example file "record_hr_session.ps1":

cd "C:\Users\Owner\Documents\HRP_shreayaa"
..venv\Scripts\Activate.ps1
cd code
python hr_session_runner.py --duration 60

You run it with:

.\record_hr_session.ps1

Option B: Python Session Runner (most modular)
A python script "hr_session_runner.py" will eventually:

• ask for duration
• record JSONL
• convert JSONL → CSV
• output file paths
• support labels, timestamps
• become the main HRP pipeline hub

This option is expandable to integrate Hue, OSC, audio, VDMX, etc.

TEXT-BASED FLOW DIAGRAM

ANT+ Straps
↓
ANT USB Dongle
↓
openant scan (ant_hr_to_json.py)
↓
hr_stream_XXX.jsonl (JSON lines)
↓
ant_to_csv.py
↓
hr_log_00X.csv (clean structured data)

Automation Layer:

hr_session_runner.py
↓
Records JSONL
↓
Converts to CSV
↓
Auto-numbered outputs

RECOMMENDED FOLDER STRUCTURE

HRP_shreayaa/
code/
ant_hr_to_json.py
ant_to_csv.py
hr_session_runner.py (future)
legacy/
outputs/
hr_logs/
hr_stream_001.jsonl
hr_log_001.csv
hr_log_002.csv
md/
1.1_ANT_HR_CSV_Pipeline_Guide.md
1.2_ANT_HR_Automation_Options.md
.venv/
hr_data.csv
README.md

NEXT STEPS WHEN YOU RETURN

Implement hr_session_runner.py for full automation.

Add user prompts (“recording started”, “saving files”, etc.).

Add PowerShell one-click launcher.

Prepare for Hue + OSC integration.

Add labeled sessions and session metadata.

Stabilize workflow for gallery experiments.

QUICK SESSION CHECKLIST

[ ] Activate .venv
[ ] Record JSONL
[ ] Verify hr_stream file created
[ ] Convert to CSV
[ ] Confirm hr_log file created
[ ] Commit or archive session if useful

END OF TEXT VERSION

Next possible steps

• a ready-to-use hr_session_runner.py
• a polished PowerShell launcher
• or a more detailed flowchart